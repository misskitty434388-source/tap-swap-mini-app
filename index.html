<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Tap Swap Claim</title>
    
    <!-- Telegram SDK -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    
    <!-- Ad Script (Async Loading) -->
    <script src='https://libtl.com/sdk.js' 
            data-zone='10542570' 
            data-sdk='show_10542570'></script>

    <style>
        body {
            background-color: #0f0f1a; /* Dark Theme */
            color: #ffffff;
            text-align: center;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            overflow: hidden; /* Prevent Scroll */
        }
        h1 {
            color: #00ff88;
            font-size: 28px;
            margin-bottom: 10px;
            text-shadow: 0 0 10px rgba(0, 255, 136, 0.5);
        }
        p {
            font-size: 16px;
            color: #cccccc;
        }
        #timer-box {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            width: 150px;
            height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 20px auto;
            border: 2px solid #ffcc00;
            box-shadow: 0 0 15px rgba(255, 204, 0, 0.3);
        }
        #timer {
            font-size: 60px;
            color: #ffcc00;
            font-weight: bold;
        }
        .status {
            margin-top: 20px;
            font-size: 14px;
            color: #888;
        }
    </style>
</head>

<body>

    <h1>üéØ Tap Swap Reward</h1>
    <p>‡¶™‡ßÅ‡¶∞‡¶∏‡ßç‡¶ï‡¶æ‡¶∞ ‡¶™‡ßá‡¶§‡ßá ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®</p>
    
    <div id="timer-box">
        <div id="timer">30</div>
    </div>

    <div class="status" id="status-text">‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶™‡¶® ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</div>

    <script>
        // ‡ßß. ‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™ ‡¶á‡¶®‡¶ø‡¶∂‡¶ø‡ßü‡¶æ‡¶≤‡¶æ‡¶á‡¶ú‡ßá‡¶∂‡¶®
        const tg = window.Telegram.WebApp;
        tg.ready();
        tg.expand(); // ‡¶´‡ßÅ‡¶≤ ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶® ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø

        // ‡ß®. ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶° ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ (‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶¶ ‡¶â‡¶™‡¶æ‡ßü)
        try {
            if (typeof show_10542570 === 'function') {
                show_10542570().then(() => {
                    console.log("Ad shown");
                }).catch(e => {
                    console.log("Ad error: " + e);
                    document.getElementById("status-text").innerText = "‡¶¨‡¶ü ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...";
                });
            } else {
                console.log("Ad script not loaded yet");
            }
        } catch (error) {
            console.error("Ad block or network error", error);
        }

        // ‡ß©. ‡¶ü‡¶æ‡¶á‡¶Æ‡¶æ‡¶∞ ‡¶≤‡¶ú‡¶ø‡¶ï
        let timeLeft = 30;
        let timerElement = document.getElementById("timer");
        let statusElement = document.getElementById("status-text");

        let countdown = setInterval(() => {
            timeLeft--;
            timerElement.innerText = timeLeft;

            if (timeLeft <= 0) {
                clearInterval(countdown);
                finishTask();
            }
        }, 1000);

        // ‡ß™. ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï ‡¶∂‡ßá‡¶∑ ‡¶è‡¶¨‡¶Ç ‡¶°‡ßá‡¶ü‡¶æ ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã
        function finishTask() {
            statusElement.innerText = "‡¶∏‡¶´‡¶≤ ‡¶π‡ßü‡ßá‡¶õ‡ßá! ‡¶™‡ßç‡¶∞‡¶∏‡ßá‡¶∏‡¶ø‡¶Ç...";
            timerElement.style.color = "#00ff88"; // ‡¶∏‡¶¨‡ßÅ‡¶ú ‡¶∞‡¶ô
            timerElement.innerText = "‚úì";

            // ‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ‡ßá ‡¶°‡ßá‡¶ü‡¶æ ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã
            setTimeout(() => {
                try {
                    // "CLAIM" ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü‡¶ü‡¶ø ‡¶¨‡¶ü‡ßá‡¶∞ ‡¶ï‡¶æ‡¶õ‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá
                    tg.sendData("CLAIM_REWARD_30S"); 
                } catch (e) {
                    console.log("Send Data Error");
                }
                
                // ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™ ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡¶æ
                tg.close();
            }, 1000); // ‡ßß ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶° ‡¶¶‡ßá‡¶∞‡¶ø ‡¶ï‡¶∞‡ßá ‡¶¨‡¶®‡ßç‡¶ß ‡¶π‡¶¨‡ßá ‡¶Ø‡¶æ‡¶§‡ßá ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶¨‡ßÅ‡¶ù‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá
        }
    </script>
</body>
</html>
